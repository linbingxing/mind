<mxfile host="app.diagrams.net" modified="2022-04-18T09:20:05.279Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36" etag="jnh5WFd1gqWQaIogmsbw" version="17.4.4" type="github">
  <diagram id="Ss-zLGsGptUb900ayheI" name="第 1 页">
    <mxGraphModel dx="1609" dy="436" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-1" target="xXIZn4CpnWQ5mHO0k7mb-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-1" value="@LoadBalanced" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="110" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-2" value="LoadBalancerClient" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="205" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-5" target="xXIZn4CpnWQ5mHO0k7mb-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-10" value="实现" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-7">
          <mxGeometry x="0.2359" relative="1" as="geometry">
            <mxPoint x="20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-5" target="xXIZn4CpnWQ5mHO0k7mb-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-20" value="@ConditionalOnBean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-18">
          <mxGeometry x="-0.3058" y="-1" relative="1" as="geometry">
            <mxPoint x="20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-5" target="xXIZn4CpnWQ5mHO0k7mb-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-5" value="RibbonLoadBalancerClient" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="370" y="202.5" width="160" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-8" target="xXIZn4CpnWQ5mHO0k7mb-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-17" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-9">
          <mxGeometry x="0.062" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-8" target="xXIZn4CpnWQ5mHO0k7mb-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-16" value="@AutoConfigureBefore" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-12">
          <mxGeometry x="-0.3744" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-8" target="xXIZn4CpnWQ5mHO0k7mb-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-15" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-14">
          <mxGeometry x="-0.2083" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-8" value="RibbonAutoConfiguration" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="110" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="216.89999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-23" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-22">
          <mxGeometry x="-0.2303" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-11" value="LoadBalancerAutoConfiguration" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="730" y="203.75" width="180" height="26.25" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-13" value="SpringClientFactory" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="760" y="20" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-11" target="xXIZn4CpnWQ5mHO0k7mb-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-26" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1000" y="145.63" width="20" height="143.75" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-27" value="LoadBalancerInterceptor" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1020" y="130" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-28" value="RestTemplateCustomizer" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1020" y="175" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-29" value="SmartInitializingSingleton" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1020" y="220" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-30" target="xXIZn4CpnWQ5mHO0k7mb-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-30" value="LoadBalancerInterceptor#intercept" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="390" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-31" target="xXIZn4CpnWQ5mHO0k7mb-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-33" value="调用拦截器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-32">
          <mxGeometry x="-0.2333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-31" value="RestTemplate#execute" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="280" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-34" value="怎么调用拦截器的？" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-10" y="330" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-35" target="xXIZn4CpnWQ5mHO0k7mb-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-42" value="1、获取负载均衡器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-39">
          <mxGeometry x="0.1111" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-35" target="xXIZn4CpnWQ5mHO0k7mb-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-43" value="2、根据负载均衡器选择一台服务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-41">
          <mxGeometry x="0.3736" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-35" value="LoadBalancerClient#execute" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="85" y="460" width="170" height="35" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-38" target="xXIZn4CpnWQ5mHO0k7mb-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-38" target="xXIZn4CpnWQ5mHO0k7mb-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-38" target="xXIZn4CpnWQ5mHO0k7mb-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-77" value="从容器中获取Bean对象" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-76">
          <mxGeometry x="0.1469" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-38" value="ILoadBalancer loadBalancer = getLoadBalancer(serviceId)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="230" y="630" width="170" height="45" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-40" target="xXIZn4CpnWQ5mHO0k7mb-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-40" value="Server server = getServer(loadBalancer, hint)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-80" y="630" width="170" height="45" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-44" target="xXIZn4CpnWQ5mHO0k7mb-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-44" value="loadBalancer.chooseServer(hint != null ? hint : &quot;default&quot;)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-90" y="747.5" width="190" height="52.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-46" target="xXIZn4CpnWQ5mHO0k7mb-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-46" value="BaseLoadBalancer#chooseServer" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-95" y="876.25" width="200" height="23.75" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-48" target="xXIZn4CpnWQ5mHO0k7mb-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-48" value="rule.choose(key)" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-55" y="961.88" width="120" height="28.13" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-50" target="xXIZn4CpnWQ5mHO0k7mb-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-50" value="IRule" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-370" y="874" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-51" target="xXIZn4CpnWQ5mHO0k7mb-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-60" value="默认" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-55">
          <mxGeometry x="-0.3078" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-51" value="ZoneAvoidanceRule" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-370" y="961.88" width="120" height="27" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-53" target="xXIZn4CpnWQ5mHO0k7mb-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-63" value="轮询，从0开始，每次加1&lt;br&gt;对实例列表取模得到下标值" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-62">
          <mxGeometry x="-0.2659" relative="1" as="geometry">
            <mxPoint y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-53" value="PredicateBasedRule#choose" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-82.5" y="1054.08" width="175" height="25.92" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-56" target="xXIZn4CpnWQ5mHO0k7mb-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-59" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-58">
          <mxGeometry x="0.2839" y="1" relative="1" as="geometry">
            <mxPoint x="1" y="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-56" value="RibbonClientConfiguration" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-400" y="1030" width="180" height="37.62" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-61" value="AbstractServerPredicate#incrementAndGetModulo" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-135" y="1169" width="280" height="27.04" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-64" value="规则如下：&lt;br&gt;&lt;font color=&quot;#333333&quot;&gt;&lt;span style=&quot;font-size: 17.0845px&quot;&gt;1&lt;/span&gt;&lt;/font&gt;、&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;RoundRobinRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：轮询&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;策略&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;2、&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;RandomRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：随机策略&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;3、&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;RetryRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：重试策略&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;4、&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;BestAvailableRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：最⼩&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;连接数策略&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;5、&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;AvailabilityFilteringRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;可⽤过滤策略&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;6、&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; font-family: &amp;#34;open sans&amp;#34; ; color: rgb(51 , 51 , 51)&quot;&gt;ZoneAvoidanceRule&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;：区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51)&quot;&gt;域权衡策略&lt;/span&gt;&lt;span style=&quot;font-size: 12.8134pt ; color: rgb(51 , 51 , 51) ; font-weight: bold&quot;&gt;（默认策略）&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-800" y="850" width="310" height="290" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-65" value="&lt;span&gt;ILoadBalancer&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="255" y="747.5" width="120" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-67" target="xXIZn4CpnWQ5mHO0k7mb-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-71" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-70">
          <mxGeometry x="-0.1862" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-67" target="xXIZn4CpnWQ5mHO0k7mb-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-83" value="构造器入参，传入服务列表" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-82">
          <mxGeometry x="-0.1156" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-67" target="xXIZn4CpnWQ5mHO0k7mb-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-86" value="初始化父类" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-85">
          <mxGeometry x="-0.3143" relative="1" as="geometry">
            <mxPoint y="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-67" value="ZoneAwareLoadBalancer" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="538.75" y="631.25" width="155" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-69" value="RibbonClientConfiguration" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="742.5" y="550" width="167.5" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-72" target="xXIZn4CpnWQ5mHO0k7mb-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-72" target="xXIZn4CpnWQ5mHO0k7mb-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-72" value="this.clientFactory.getLoadBalancer(serviceId)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="490" y="470" width="252.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-74" value="SpringClientFactory" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="556.25" y="385" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-78" target="xXIZn4CpnWQ5mHO0k7mb-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-78" value="context.getBean()" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="556.25" y="540" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-147" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-81" target="xXIZn4CpnWQ5mHO0k7mb-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-81" value="serverList" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="970" y="635.62" width="120" height="36.25" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-88" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-84" target="xXIZn4CpnWQ5mHO0k7mb-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-84" target="xXIZn4CpnWQ5mHO0k7mb-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-84" value="DynamicServerListLoadBalancer" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="526.25" y="730" width="180" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-87" target="xXIZn4CpnWQ5mHO0k7mb-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-125" value="初始化配置" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-124">
          <mxGeometry x="-0.2842" relative="1" as="geometry">
            <mxPoint y="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-87" value="BaseLoadBalancer" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1050" y="730" width="120" height="33.75" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-92" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-89" target="xXIZn4CpnWQ5mHO0k7mb-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-96" value="2、获取所有Eurekas实例列表" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-92">
          <mxGeometry x="-0.1645" relative="1" as="geometry">
            <mxPoint x="43" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-94" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-89" target="xXIZn4CpnWQ5mHO0k7mb-93">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-95" value="1、定时刷新Eureka列表" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-94">
          <mxGeometry x="0.3029" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-89" value="restOfInit(clientConfig)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="549.38" y="828.75" width="133.75" height="31.25" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-91" target="xXIZn4CpnWQ5mHO0k7mb-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-115" value="获取更新实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-111">
          <mxGeometry x="-0.2752" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-91" value="updateListOfServers()" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="730" y="927.04" width="120" height="34.38" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-98" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-93" target="xXIZn4CpnWQ5mHO0k7mb-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-93" value="enableAndInitLearnNewServersFeature" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="350" y="927.04" width="230" height="35.3" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-97" target="xXIZn4CpnWQ5mHO0k7mb-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-109" value="每隔30秒自动刷新Eureka实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-108">
          <mxGeometry x="-0.2541" y="2" relative="1" as="geometry">
            <mxPoint x="-23" y="-32" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-97" value="serverListUpdater.start(updateAction)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="350" y="1040" width="230" height="30.01" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-99" target="xXIZn4CpnWQ5mHO0k7mb-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-101" value="start" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-100">
          <mxGeometry x="-0.24" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-99" target="xXIZn4CpnWQ5mHO0k7mb-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-99" value="PollingServerListUpdater" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="1038.51" width="150" height="33" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-102" value="ServerListUpdater" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="155" y="1130" width="120" height="31.99" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-104" target="xXIZn4CpnWQ5mHO0k7mb-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-107" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-106">
          <mxGeometry x="-0.2691" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-104" value="RibbonClientConfiguration" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="142.5" y="910" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-110" target="xXIZn4CpnWQ5mHO0k7mb-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-114" value="更新所有实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-113">
          <mxGeometry x="-0.2929" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-110" target="xXIZn4CpnWQ5mHO0k7mb-155">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-110" value="serverListImpl.getUpdatedListOfServers()" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="665" y="1035.01" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-112" target="xXIZn4CpnWQ5mHO0k7mb-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-121" value="设置服务实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-117">
          <mxGeometry x="-0.2593" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-112" value="updateAllServerList(servers)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="1169" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-116" target="xXIZn4CpnWQ5mHO0k7mb-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-120" value="将服务实例列表设置到父类的allServerList" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-119">
          <mxGeometry x="-0.2619" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-116" value="setServersList(ls)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="730" y="1280" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-118" value="BaseLoadBalancer#setServersList" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="675" y="1390" width="230" height="31" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-127" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-123" target="xXIZn4CpnWQ5mHO0k7mb-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-123" value="initWithConfig" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="820.62" width="120" height="29.38" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-129" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-126" target="xXIZn4CpnWQ5mHO0k7mb-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-130" value="每10秒执行一次" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-129">
          <mxGeometry x="-0.2889" y="2" relative="1" as="geometry">
            <mxPoint x="-2" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-126" value="setupPingTask" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="900" width="120" height="35.31" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-128" target="xXIZn4CpnWQ5mHO0k7mb-131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-139" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-128" target="xXIZn4CpnWQ5mHO0k7mb-138">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-128" value="PingTask" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="994.08" width="120" height="35.92" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-134" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-131" target="xXIZn4CpnWQ5mHO0k7mb-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-135" value="判断allServers是否存活&lt;br&gt;若存活，则放到upServerList" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-134">
          <mxGeometry x="-0.3758" relative="1" as="geometry">
            <mxPoint x="52" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-131" value="new Pinger(pingStrategy).runPinger()" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1250" y="992.04" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-137" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-133" target="xXIZn4CpnWQ5mHO0k7mb-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-133" value="pingerStrategy.pingServers(ping, allServers)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1750" y="990" width="220" height="45.01" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-136" value="ping.isAlive()" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2110" y="998.3" width="120" height="27.49" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-138" value="notifyServerStatusChangeListener(changedServers)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1250" y="1070" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-140" target="xXIZn4CpnWQ5mHO0k7mb-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-140" value="NIWSDiscoveryPing" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2110" y="920" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-142" target="xXIZn4CpnWQ5mHO0k7mb-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-142" value="IPing" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2130" y="828.75" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-154" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-146" target="xXIZn4CpnWQ5mHO0k7mb-153">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-146" value="DomainExtractingServerList" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1270" y="635.62" width="180" height="36.25" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-148" target="xXIZn4CpnWQ5mHO0k7mb-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-150" value="@bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-149">
          <mxGeometry x="-0.2525" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-151" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-148" target="xXIZn4CpnWQ5mHO0k7mb-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-152" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-151">
          <mxGeometry x="-0.4928" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-148" value="EurekaRibbonClientConfiguration" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1265" y="510" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-153" target="xXIZn4CpnWQ5mHO0k7mb-155">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1360" y="820" />
              <mxPoint x="1200" y="820" />
              <mxPoint x="1200" y="1110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-153" value="DomainExtractingServerList" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1275" y="740" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-155" target="xXIZn4CpnWQ5mHO0k7mb-157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-159" value="从EurekaClient缓存获取实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-158">
          <mxGeometry x="-0.1939" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-155" value="DiscoveryEnabledNIWSServerList&lt;br&gt;#getUpdatedListOfServers" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="950" y="1090" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="xXIZn4CpnWQ5mHO0k7mb-157" target="xXIZn4CpnWQ5mHO0k7mb-160">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-162" value="本地缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xXIZn4CpnWQ5mHO0k7mb-161">
          <mxGeometry x="-0.3037" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-157" value="eurekaClient.getInstancesByVipAddress" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="940" y="1190" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xXIZn4CpnWQ5mHO0k7mb-160" value="applications = this.localRegionApps.get()" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="930" y="1276" width="240" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
